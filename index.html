<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>QRコード生成と回転</title>
    <style>
        /* CSSは省略（変更なし） */
        #qrcode-container {
            margin-top: 30px;
            padding: 20px;
            text-align: center;
        }

        #qrcode-container canvas, 
        #qrcode-container img {
            transform: rotate(45deg); 
            transform-origin: center center;
            margin: 50px; 
            transition: transform 0.3s ease-in-out; 
        }

        .input-group {
            margin-bottom: 20px;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <h1>文字列をQRコードに変換・回転</h1>

    <div class="input-group">
        <label for="text-input">変換したい文字列を入力してください:</label><br>
        <input type="text" id="text-input" value="Hello, Gemini!">
    </div>
    
    <button onclick="generateAndRotateQr()">QRコードを生成・回転</button>

    <div id="qrcode-container">
        <p>「QRコードを生成・回転」ボタンを押してください。</p>
    </div>

    <script>
        function generateAndRotateQr() {
            const container = document.getElementById('qrcode-container');
            const inputText = document.getElementById('text-input').value;

            container.innerHTML = '';
            
            if (!inputText) {
                container.innerHTML = '<p>文字列を入力してください。</p>';
                return;
            }

            try {
                // QrCode(element, options) の呼び出し（コード内容は変更なし）
                new QRCode(container, {
                    text: inputText,
                    width: 200,
                    height: 200,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });
                
                container.insertAdjacentHTML('beforeend', '<p>QRコードを45度回転させて表示しています。</p>');
                
            } catch (e) {
                container.innerHTML = `<p style="color: red;">QRコード生成エラー: ${e.message}</p>`;
            }
        }
    </script>
</body>
</html>
